spring:
  profiles:
    # 기본 프로필을 dev로 설정
    # 별도 설정 없이 애플리케이션 실행 시 개발 환경(dev)으로 실행됨
    active: dev
  
  config:
    import: optional:file:.env[.properties]

  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/vans_story_be?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Seoul&characterEncoding=UTF-8&useUnicode=true
    username: root
    password: root

  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        format_sql: true
        show_sql: true
        dialect: org.hibernate.dialect.MySQLDialect
        connection:
          characterEncoding: UTF-8
          useUnicode: true
        globally_quoted_identifiers: true
    database-platform: org.hibernate.dialect.MySQLDialect

  main:
    allow-bean-definition-overriding: true

server:
  servlet:
    encoding:
      # 문자 인코딩 설정
      charset: UTF-8
      # 인코딩 강제 적용 (항상 설정된 인코딩을 사용)
      force: true

# JVM 인코딩 설정
java:
  options: -Dfile.encoding=UTF-8 -Dconsole.encoding=UTF-8

# Swagger UI 설정
springdoc:
  swagger-ui:
    path: /swagger-ui.html              # Swagger UI 경로 설정
    groups-order: DESC                  # API 그룹 정렬 순서
    operationsSorter: method            # API 메서드 정렬 기준
    disable-swagger-default-url: true   # 기본 petstore URL 비활성화
    display-request-duration: true      # 요청 소요 시간 표시
  api-docs:
    path: /v3/api-docs                  # API 문서 JSON 경로
  show-actuator: true                   # Actuator API 문서화 활성화
  # API 기본 요청/응답 미디어 타입 설정
  default-consumes-media-type: application/json
  default-produces-media-type: application/json 
  packages-to-scan: blog.vans_story_be

cors:
  allowed-origins:
    - http://localhost:3000

logging:
  level:
    blog.vans_story_be: DEBUG
    org.springframework.security: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE

management:
  endpoints:
    web:
      exposure:
        include: health,info

 

